{# Tab: Data Linguistik (Lexical + Thesaurus) #}
<div class="tab-pane fade" id="linguistic-pane" role="tabpanel">
  <div class="card mb-4">
    <div class="card-header">
      <h5 class="mb-0">Manajemen Data Linguistik</h5>
    </div>
    <div class="card-body">
      <ul class="nav nav-pills mb-4" id="linguisticSubTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="lexical-tab" data-bs-toggle="pill" data-bs-target="#lexical-content" type="button" role="tab" aria-controls="lexical-content" aria-selected="true">
            <i class="fas fa-book"></i> Lexical Database
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="thesaurus-tab" data-bs-toggle="pill" data-bs-target="#thesaurus-content" type="button" role="tab" aria-controls="thesaurus-content" aria-selected="false">
            <i class="fas fa-project-diagram"></i> Tesaurus
          </button>
        </li>
      </ul>
      <div class="tab-content" id="linguisticTabContent">
        {# Lexical #}
        <div class="tab-pane fade show active" id="lexical-content" role="tabpanel" aria-labelledby="lexical-tab">
          <div class="row mb-4">
            <div class="col-lg-6 mb-3">
              <div class="card h-100">
                <div class="card-header"><h5 class="mb-0">Status Database Lexical</h5></div>
                <div class="card-body">
                  <div class="mb-3">
                    <span class="badge bg-{{ 'success' if lexical_status.initialized else 'warning' }}">
                      {{ 'Terinisialisasi' if lexical_status.initialized else 'Belum Diinisialisasi' }}
                    </span>
                    {% if lexical_status.last_updated %}
                    <p class="mt-2"><small class="text-muted">Terakhir diperbarui: {{ lexical_status.last_updated }}</small></p>
                    {% endif %}
                    <p class="mt-3">
                      <strong>Jumlah Entri:</strong>
                      <span class="badge bg-primary">{{ lexical_status.entry_count|default('0') }}</span>
                    </p>
                  </div>
                  <div class="d-grid gap-2">
                    <form action="{{ url_for('admin.run_lexical_command_route') }}" method="post">
                      <input type="hidden" name="command" value="init_lexical" />
                      <button type="submit" class="btn btn-primary"><i class="fas fa-sync-alt"></i> Inisialisasi Database Lexical</button>
                    </form>
                    <form action="{{ url_for('admin.run_lexical_command_route') }}" method="post">
                      <input type="hidden" name="command" value="export_lexical" />
                      <button type="submit" class="btn btn-outline-secondary"><i class="fas fa-file-export"></i> Export Database</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6 mb-3">
              <div class="card h-100">
                <div class="card-header"><h5 class="mb-0">Import Data Lexical</h5></div>
                <div class="card-body">
                  <form action="{{ url_for('admin.import_lexical_data_route') }}" method="post" enctype="multipart/form-data">
                    <div class="mb-3">
                      <label for="lexicalFile" class="form-label">File CSV/Excel</label>
                      <input class="form-control" type="file" id="lexicalFile" name="lexical_file" accept=".csv,.xlsx" />
                      <div class="form-text">Format: kolom kata, arti, contoh penggunaan</div>
                    </div>
                    <div class="mb-3">
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="overwriteLexical" name="overwrite" value="true" />
                        <label class="form-check-label" for="overwriteLexical">Timpa data yang sudah ada</label>
                      </div>
                    </div>
                    <div class="d-grid">
                      <button type="submit" class="btn btn-success"><i class="fas fa-file-import"></i> Import Data</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-header"><h5 class="mb-0">Cari & Edit Data Lexical</h5></div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-6">
                  <div class="input-group">
                    <input type="text" id="lexicalSearchInput" class="form-control" placeholder="Cari kata..." />
                    <button class="btn btn-primary" type="button" id="lexicalSearchBtn"><i class="fas fa-search"></i> Cari</button>
                  </div>
                </div>
                <div class="col-md-6 text-end">
                  <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addLexicalModal"><i class="fas fa-plus"></i> Tambah Entri Baru</button>
                </div>
              </div>
              <div class="table-responsive">
                <table class="table table-striped table-hover" id="lexicalTable">
                  <thead>
                    <tr>
                      <th>ID</th><th>Kata</th><th>Arti</th><th>Contoh Penggunaan</th><th>Aksi</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
              <div id="lexicalPagination" class="mt-3"></div>
            </div>
          </div>
        </div>
        {# Thesaurus #}
        <div class="tab-pane fade" id="thesaurus-content" role="tabpanel" aria-labelledby="thesaurus-tab">
          <div class="row mb-4">
            <div class="col-lg-6 mb-3">
              <div class="card h-100">
                <div class="card-header"><h5 class="mb-0">Status Database Tesaurus</h5></div>
                <div class="card-body">
                  <div class="mb-3">
                    <span class="badge bg-{{ 'success' if thesaurus_status.initialized else 'warning' }}">
                      {{ 'Terinisialisasi' if thesaurus_status.initialized else 'Belum Diinisialisasi' }}
                    </span>
                    {% if thesaurus_status.last_updated %}
                    <p class="mt-2"><small class="text-muted">Terakhir diperbarui: {{ thesaurus_status.last_updated }}</small></p>
                    {% endif %}
                    <p class="mt-3">
                      <strong>Jumlah Kata:</strong>
                      <span class="badge bg-primary">{{ thesaurus_status.word_count|default('0') }}</span><br />
                      <strong>Jumlah Relasi:</strong>
                      <span class="badge bg-primary">{{ thesaurus_status.relation_count|default('0') }}</span>
                    </p>
                    {% if thesaurus_status.synonym_count is defined %}
                    <div class="mt-3">
                      <h6>Rincian Relasi:</h6>
                      <ul class="list-unstyled">
                        <li><strong>Sinonim:</strong> <span class="badge bg-info">{{ thesaurus_status.synonym_count|default('0') }}</span></li>
                        <li><strong>Antonim:</strong> <span class="badge bg-info">{{ thesaurus_status.antonym_count|default('0') }}</span></li>
                        <li><strong>Hiponim:</strong> <span class="badge bg-info">{{ thesaurus_status.hyponym_count|default('0') }}</span></li>
                        <li><strong>Hipernim:</strong> <span class="badge bg-info">{{ thesaurus_status.hypernym_count|default('0') }}</span></li>
                      </ul>
                    </div>
                    {% endif %}
                  </div>
                  <div class="d-grid gap-2">
                    <form action="{{ url_for('admin.run_lexical_command_route') }}" method="post">
                      <input type="hidden" name="command" value="init_thesaurus" />
                      <button type="submit" class="btn btn-primary"><i class="fas fa-sync-alt"></i> Inisialisasi Database Tesaurus</button>
                    </form>
                    <form action="{{ url_for('admin.run_lexical_command_route') }}" method="post">
                      <input type="hidden" name="command" value="export_thesaurus" />
                      <button type="submit" class="btn btn-outline-secondary"><i class="fas fa-file-export"></i> Export Database</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6 mb-3">
              <div class="card h-100">
                <div class="card-header"><h5 class="mb-0">Import Relasi Tesaurus</h5></div>
                <div class="card-body">
                  <form action="{{ url_for('admin.import_thesaurus_data_route') }}" method="post" enctype="multipart/form-data">
                    <div class="mb-3">
                      <label for="thesaurusFile" class="form-label">File CSV/Excel</label>
                      <input class="form-control" type="file" id="thesaurusFile" name="thesaurus_file" accept=".csv,.xlsx" />
                      <div class="form-text">Format: kolom kata1, kata2, jenis_relasi (opsional), kekuatan (opsional)</div>
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Jenis Relasi</label>
                      <select class="form-select" name="relation_type" required>
                        <option value="synonym" selected>Sinonim</option>
                        <option value="antonym">Antonim</option>
                        <option value="hyponym">Hiponim</option>
                        <option value="hypernym">Hipernim</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="overwriteThesaurus" name="overwrite" value="true" />
                        <label class="form-check-label" for="overwriteThesaurus">Hapus relasi lama dengan jenis yang sama</label>
                      </div>
                    </div>
                    <div class="d-grid">
                      <button type="submit" class="btn btn-success"><i class="fas fa-file-import"></i> Import Data</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-header"><h5 class="mb-0">Visualisasi & Pencarian Tesaurus</h5></div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-6">
                  <div class="input-group">
                    <input type="text" id="thesaurusSearchInput" class="form-control" placeholder="Cari kata..." />
                    <button class="btn btn-primary" type="button" id="thesaurusSearchBtn"><i class="fas fa-search"></i> Cari</button>
                  </div>
                </div>
                <div class="col-md-6 text-end">
                  <div class="btn-group">
                    <button class="btn btn-outline-secondary" id="visualizeThesaurusBtn"><i class="fas fa-project-diagram"></i> Visualisasi Jaringan</button>
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Filter</button>
                    <ul class="dropdown-menu">
                      <li>
                        <div class="dropdown-item">
                          <div class="form-check">
                            <input class="form-check-input relation-filter" type="checkbox" id="showSynonyms" checked />
                            <label class="form-check-label" for="showSynonyms">Sinonim</label>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="dropdown-item">
                          <div class="form-check">
                            <input class="form-check-input relation-filter" type="checkbox" id="showAntonyms" checked />
                            <label class="form-check-label" for="showAntonyms">Antonim</label>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="dropdown-item">
                          <div class="form-check">
                            <input class="form-check-input relation-filter" type="checkbox" id="showHyponyms" checked />
                            <label class="form-check-label" for="showHyponyms">Hiponim</label>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="dropdown-item">
                          <div class="form-check">
                            <input class="form-check-input relation-filter" type="checkbox" id="showHypernyms" checked />
                            <label class="form-check-label" for="showHypernyms">Hipernim</label>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div id="thesaurusVisualization" style="height: 400px; border: 1px solid #ddd; display: none"></div>
              <div id="thesaurusSearchResults" class="mt-3"></div>
            </div>
          </div>
          <div class="card mt-4">
            <div class="card-header"><h5 class="mb-0">Pengayaan Tesaurus dengan Wordlist</h5></div>
            <div class="card-body">
              <form action="{{ url_for('admin.enrich_thesaurus_route') }}" method="post" id="thesaurusEnrichForm">
                <div class="row mb-3">
                  <div class="col-md-6">
                    <label class="form-label">Pilih Wordlist</label>
                    <select class="form-select" name="wordlist" required>
                      <option value="" selected disabled>Pilih wordlist yang akan digunakan</option>
                      {% for wordlist in wordlist_files %}
                      <option value="{{ wordlist.name }}">{{ wordlist.name }} ({{ wordlist.size }})</option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Jenis Relasi</label>
                    <select class="form-select" name="relation_type" required>
                      <option value="synonym" selected>Sinonim</option>
                      <option value="antonym">Antonim</option>
                      <option value="hyponym">Hiponim</option>
                      <option value="hypernym">Hipernim</option>
                    </select>
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="col-md-6">
                    <label class="form-label">Skor Minimum (0.0-1.0)</label>
                    <input type="number" class="form-control" name="min_score" min="0" max="1" step="0.1" value="0.7" />
                    <div class="form-text">Semakin tinggi skor, semakin akurat relasi yang ditambahkan</div>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Jumlah Maksimum Relasi per Kata</label>
                    <input type="number" class="form-control" name="max_relations" min="1" max="20" value="5" />
                    <div class="form-text">Batasi jumlah relasi untuk menghindari noise</div>
                  </div>
                </div>
                <div class="d-grid">
                  <button type="submit" class="btn btn-primary"><i class="fas fa-plus-circle"></i> Perkaya Tesaurus</button>
                </div>
              </form>
              <div id="enrichResult" class="mt-3"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
